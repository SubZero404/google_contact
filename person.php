<?php    include_once "./templates/top_section.php";    global $sub_url;    $error = validation();    if (array_key_exists('edit-contact-btn',$_POST)) {        if (!$error) editContact($_POST['id'],$_POST['first-name'],$_POST['last-name'],$_POST['company'],$_POST['job-title'],$_POST['email'],$_POST['phone'],$_POST['birthday'],$_POST['notes'],$_POST['upload-contact-img'],$_POST['local-contact-img']);    }    if (array_key_exists('toggle-star-btn',$_POST)) {        toggleStar($_POST['toggle-star-id']);    }    if (array_key_exists('delete-btn',$_POST)) {        deleteContact($_POST['delete-id']);        linkTo($sub_url['main_url']);    }    $id = $_GET["id"];    $contact = getEachContact($id);    $name = $contact['first_name'].' '.$contact['last_name'];    $star = $contact['star'];    $star_icon = 'bi-star';    if($star) $star_icon = 'bi-star-fill';    $img = $contact['profile_img'];    $company = $contact['company'];    if ($company != '') {        $company = $company.', ';    }    $img_url = getImageUrl($img);    $person_url = $sub_url['person'].'?id='.$id;?>    <form method="post" enctype="multipart/form-data" class="person-section flex-column p-0 m-0 h-100">        <input type="hidden" id="error-check" value="<?php echo $error ?>">        <input type="hidden" name="id" value="<?php echo $id ?>">        <input type="hidden" name="upload-contact-img" id="upload-contact-img">        <input type="hidden" name="local-contact-img" id="local-contact-img">        <div class="person-control-btn-div">            <a href="<?php echo $sub_url['main_url'] ?>" id="close-person-btn">                <button class="d-flex justify-content-center align-items-center" type="button">                    <i class="bi bi-arrow-left-short fs-5"></i>                </button>            </a>            <button class="d-flex justify-content-center align-items-center d-none" id="close-edit-btn" type="button">                <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>            </button>        </div>        <div class="person-top d-flex flex-row justify-content-between mt-2 w-100 px-5">            <div class="d-flex flex-row align-items-center">                <div class="contact-new-img-div person-img-div d-flex justify-content-center align-items-center me-4">                    <img src="<?php echo $img_url ?>" alt="contact image">                    <input type="hidden" value="<?php echo $sub_url['contact_img_url'] ?>">                    <button type="button" id="edit-contact-img-btn" class="d-flex align-items-center justify-content-center d-none">                        <i class="bi bi-pen fs-4"></i>                    </button>                </div>                <?php include_once "./templates/choose_contact_photo.php" ?>                <div class="label-btn-div h-100 d-flex flex-column justify-content-center">                    <h4 class="fs-3 mb-3"><?php echo $name ?></h4>                    <button class="d-flex justify-content-center align-items-center">                        <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></svg>                    </button>                </div>            </div>            <div class="h-100 d-flex align-items-end person-btn" >                <div class="d-flex align-items-center person-btn-div">                    <span class="shadow-none me-3" tabindex="0" data-bs-toggle="popover" data-bs-placement="bottom" data-bs-trigger="hover focus" data-bs-content="remove star">                        <input type="hidden" name="toggle-star-id" value="<?php echo $id.'/'.$star ?>">                        <button type="submit" name="toggle-star-btn"><i class="bi <?php echo $star_icon ?> h5 text-primary"></i></button>                    </span>                    <span class="shadow-none dropdown dropstart me-3" tabindex="0" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover focus" data-bs-content="more action">                        <button type="button" class="" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">                            <i class="bi bi-three-dots-vertical h5 text-black"></i>                        </button>                        <input type="hidden" name="delete-id" value="<?php echo $id ?>">                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">                            <li class="dropdown-item">                                <button type="button" class="w-100 h-100 d-flex flex-row align-items-start">                                    <i class="me-3 bi bi-printer"></i><span class="fw-semibold">Print</span>                                </button>                            </li>                            <li class="dropdown-item">                                <button type="button" class="w-100 h-100 d-flex flex-row align-items-start">                                    <i class="me-3 bi bi-cloud-arrow-down"></i><span class="fw-semibold">Export</span>                                </button>                            </li>                            <li class="dropdown-item">                                <button type="submit" name="delete-btn" class="w-100 h-100 d-flex flex-row align-items-start">                                    <i class="me-3 bi bi-trash"></i><span class="fw-semibold">Delete</span>                                </button>                            </li>                        </ul>                    </span>                    <button type="button" name="add-contact-btn" id="active-edit-btn" class="btn btn-primary shadow-lg my-3 fw-bold px-4">Edit</button>                </div>                <button type="submit" name="edit-contact-btn" id="edit-contact-save-btn" class="btn btn-primary shadow-lg my-3 fw-bold px-4 d-none">Save</button>            </div>        </div>        <div class="hr-line w-100">            <div class="to-contact-div d-flex flex-row mb-3">                <button class="me-3" type="button"><i class="bi bi-envelope b6 text-black-50"></i></button>                <button class="me-3" type="button"><i class="bi bi-calendar-event text-black-50"></i></button>                <button class="me-3" type="button"><i class="bi bi-chat-left-dots text-black-50"></i></button>                <button type="button"><i class="bi bi-camera-video b6 text-black-50"></i></button>            </div>            <hr class="mb-0">        </div>        <div class="person-bottom">            <div class="card mt-4 w-50 ms-4">                <div class="card-body">                    <h3 class="fs-6 mb-4">Contact details</h3>                <?php                if ($contact['email']) {                    echo "                    <div class='mb-3'>                        <svg width='20' height='20' viewBox='0 0 24 24'><path d='M0 0h24v24H0V0z' fill='none'></path><path d='M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z'></path></svg>                        <a href='#' class='text-decoration-none ms-3'>{$contact['email']}</a>                    </div>                    ";                }                if ($contact['phone']) {                    echo "                    <div class='mb-3'>                        <svg width='20' height='20' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'></path><path d='M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z'></path></svg>                        <a href='#' class='text-decoration-none ms-3'>{$contact['phone']}</a>                    </div>                    ";                }                if ($contact['company'] or $contact['job_title']) {                    echo "                    <div class='mb-3'>                        <svg width='20' height='20' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'></path><path d='M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z'></path></svg>                        <a href='#' class='text-decoration-none ms-3'>$company {$contact['job_title']}</a>                    </div>                    ";                }                if ($contact['birthday']) {                    echo "                    <div class='mb-3'>                        <svg width='20' height='20' viewBox='0 0 24 24'><path d='M0 0h24v24H0V0z' fill='none'></path><path d='M19 14v-4c0-1.1-.9-2-2-2h-4V6.55c.15-.09.29-.18.41-.31.39-.39.59-.92.59-1.42s-.2-1.02-.59-1.41L12 2l-1.41 1.41c-.39.39-.59.91-.59 1.41s.2 1.03.59 1.42c.13.13.27.22.41.31V8H7c-1.1 0-2 .9-2 2v4c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM7 10h10v4H7v-4zm12 10H5v-4h14v4z'></path></svg>                        <a href='#' class='text-decoration-none ms-3'>{$contact['birthday']}</a>                    </div>                    ";                }                if ($contact['notes']) {                    echo "                    <div class='mb-3'>                        <svg width='20' height='20' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'></path><path d='M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z'></path></svg>                        <a href='#' class='text-decoration-none ms-3'>{$contact['notes']}</a>                    </div>                                    ";                }                ?>                </div>            </div>        </div>        <div class="edit-contact-bottom w-100 px-5 pt-4 overflow-scroll d-none">            <div class="input-div">                <div class="input-icon">                    <svg width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 9c2.7 0 5.8 1.29 6 2v1H6v-.99c.2-.72 3.3-2.01 6-2.01m0-11C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></svg>                </div>                <div class="input-div d-flex flex-column">                    <div class="input-data">                        <input type="text" id="first-name" name="first-name" value="<?php echo $contact['first_name'] ?>">                        <label for="first-name">First name</label>                    </div>                    <div class="input-data">                        <input type="text" id="last-name" name="last-name" value="<?php echo $contact['last_name'] ?>">                        <label for="last-name">Last name</label>                    </div>                    <?php echo getError('name') ?>                </div>                <div class="input-clean-div">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>                </div>            </div>            <div class="input-div mt-2">                <div class="input-icon">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"></path></svg>                </div>                <div class="input-div d-flex flex-column">                    <div class="input-data">                        <input type="text" id="company" name="company" value="<?php echo $contact['company'] ?>">                        <label for="company">Company</label>                    </div>                    <div class="input-data">                        <input type="text" id="job-title" name="job-title" value="<?php echo $contact['job_title'] ?>">                        <label for="job-title">Job title</label>                    </div>                </div>                <div class="input-clean-div">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>                </div>            </div>            <div class="input-div mt-2">                <div class="input-icon">                    <svg width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"></path></svg>                </div>                <div class="input-div d-flex flex-column">                    <div class="input-data">                        <input type="email" id="email" name="email" value="<?php echo $contact['email'] ?>">                        <label for="email">Email</label>                    </div>                    <?php echo getError('email') ?>                </div>                <div class="input-clean-div">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>                </div>            </div>            <div class="input-div mt-2">                <div class="input-icon">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg>                </div>                <div class="input-div d-flex flex-column">                    <div class="input-data">                        <input type="text" id="phone" name="phone" value="<?php echo $contact['phone'] ?>">                        <label for="phone">Phone</label>                    </div>                    <?php echo getError('phone') ?>                </div>                <div class="input-clean-div">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>                </div>            </div>            <div class="input-div mt-2">                <div class="input-icon">                    <svg width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M19 14v-4c0-1.1-.9-2-2-2h-4V6.55c.15-.09.29-.18.41-.31.39-.39.59-.92.59-1.42s-.2-1.02-.59-1.41L12 2l-1.41 1.41c-.39.39-.59.91-.59 1.41s.2 1.03.59 1.42c.13.13.27.22.41.31V8H7c-1.1 0-2 .9-2 2v4c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM7 10h10v4H7v-4zm12 10H5v-4h14v4z"></path></svg>                </div>                <div class="input-div d-flex flex-column">                    <div class="input-data">                        <input type="text" id="birthday" name="birthday" value="<?php echo $contact['birthday'] ?>">                        <label for="birthday">Birthday</label>                    </div>                </div>                <div class="input-clean-div">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>                </div>            </div>            <div class="input-div mt-2">                <div class="input-icon">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z"></path></svg>                </div>                <div class="input-div d-flex flex-column">                    <div class="input-data">                        <input type="text" id="notes" name="notes" value="<?php echo $contact['notes'] ?>">                        <label for="notes">Notes</label>                    </div>                </div>                <div class="input-clean-div">                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>                </div>            </div>        </div>    </form><?php include_once "./templates/bottom_section.php"; ?><script src="<?php echo $sub_url['js_url'] ?>edit_contact.js"></script><script src="<?php echo $sub_url['js_url'] ?>image_section.js"></script>